<?xml version="1.0" encoding="utf-8" ?>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
 <html>
 <head>
 <!--Copyright (C)2010-2015 Sensory Inc-->
 <link rel="stylesheet" type="text/css" href="frozen.css" >
 <title>TrulyHandsfree Software Development Kit</title>
 </head>
 <body bgcolor="#ffffff" text="#000000">

<header><center>Sensory Confidential</center></header>
<h2>thfRecogInit</h2>
<h3>Syntax</h3>
<pre>
#include &lt;trulyhandsfree.h&gt;
int thfRecogInit(thf_t **thf, <a href="objects.html#recog_t">recog_t</a> *r, <a href="objects.html#searchs_t">searchs_t</a> *sr, 
                 unsigned char keepMode);
</pre>
<h3>Description</h3>
 <p> Associates the specified search object with the given recognizer object and initializes internal data structures. This function must be called in the following circumstances:  Before performing recognition for the first time; Before re-using the recognizer; Whenever the recognizer object changes (e.g., applying a different netfile); Whenever the search object changes (e.g., applying a new vocabulary); In order to change the keepMode parameter.  The information that gets returned by the <a href="thfRecogResult.html">thfRecogResult</a> is configured using the keepMode parameter. The results always include the recognized word/s and associated score. The following flags are used to request addition information:  <table align="center"> <tr><td><b>RECOG_KEEP_NONE</b></td><td>no addition information (i.e., only word/s and score)</td></tr> <tr><td><b>RECOG_KEEP_WAVE</b></td><td>returns input wave and sdet wave</td></tr> <tr><td><b>RECOG_KEEP_WAVE_WORD</b></td><td>returns input wave, sdet wave, and word alignments </td></tr> <tr><td><b>RECOG_KEEP_WAVE_WORD_PHONEME</b></td><td>returns input wave, sdet wave, word alignments and phoneme alignments </td></tr> <tr><td><b>RECOG_KEEP_WORD_PHONEME</b></td><td>returns word alignments and phoneme alignments </td></tr>  </table> The input wave is the accumulated audio fed to the <a href="thfRecogPipe.html">thfRecogPipe</a>. The sdet wave is a subset of the input, namely the region identified as containing speech. If no speech detector is used, this will be NULL. Word and phoneme alignments are strings comprising sequences of the following form: &ltstart-time&gt &ltend-time&gt &ltword/phoneme&gt &ltscore&gt, where times are in milliseconds.</p>  <p><b>NOTE</b> : When phrasespotting, input audio is limited to a maximum of 10 seconds and speech detected audio is unavailable.</p> <p><b>NOTE</b> : When using a speech detector, alignments are relative to the start of the speech detected region, which can be retrieved using <a href="thfRecogGetSpeechRange.html">thfRecogGetSpeechRange</a>.</p> <p><b>NOTE</b> : Phoneme alignments are unavailable with user-defined triggers. </b>  <p><b>NOTE</b> : Phoneme alignments are particularly expensive in terms of speed and memory. It is recommended they are used for debugging purposes only.  </p>
<h3>Parameters</h3>
<table>
<tr>
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Dir.</th>
<th align="left">Description</th>
</tr>
<tr>
<td nowrap valign="top"><code>thf_t *</code></td>
<td nowrap valign="top"><code>*thf</code></td>
<td align="center" valign="top">in</td>
<td width="500">Session object.</td>
</tr>
<tr>
<td nowrap valign="top"><a href="objects.html#recog_t"><code>recog_t *</code></a></td>
<td nowrap valign="top"><code>r</code></td>
<td align="center" valign="top">in</td>
<td width="500">Recognizer object.</td>
</tr>
<tr>
<td nowrap valign="top"><a href="objects.html#searchs_t"><code>searchs_t *</code></a></td>
<td nowrap valign="top"><code>sr</code></td>
<td align="center" valign="top">in</td>
<td width="500">Search object.</td>
</tr>
<tr>
<td nowrap valign="top"><code>unsigned char</code></td>
<td nowrap valign="top"><code>keepMode</code></td>
<td align="center" valign="top">in</td>
<td width="500">Configures what recognition result information gets returned.</td>
</tr>
</table>
<h3>Return</h3>
Returns 1 to indicate success and 0 for an error. 
Use <a href="thfGetLastError.html">thfGetLastError</a> to get error message.
<h3>Errors</h3>
<table>
<tr>
<th align="left">String</th>
<th align="left">Description</th>
</tr>
<tr>
<td valign="top"><code>recog object not found</code></td>
<td valign="top">Invalid recognizer object handle.</td>
</tr>
<tr>
<td valign="top"><code>search object not found</code></td>
<td valign="top">Invalid search object handle.</td>
</tr>
<tr>
<td valign="top"><code>search and acoustic model objects have different frame sizes</code></td>
<td valign="top">Incompatible acoustic model and search objects have been used in combination during initialization.</td>
</tr>
<tr>
<td valign="top"><code>Unlicensed library</code></td>
<td valign="top">Library file not properly licensed. Contact customer support.</td>
</tr>
<tr>
<td valign="top"><code>Unlicensed net object</code></td>
<td valign="top">Data file not properly licensed. Contact customer support.</td>
</tr>
</table>
<h3>See Also</h3>
<a href="thfRecogCreateFromFile.html">thfRecogCreateFromFile</a>, <a href="thfRecogCreateFromFunc.html">thfRecogCreateFromFunc</a>, <a href="thfRecogCreateFromStatic.html">thfRecogCreateFromStatic</a>, <a href="thfSearchCreateFromFile.html">thfSearchCreateFromFile</a>, <a href="thfSearchCreateFromFunc.html">thfSearchCreateFromFunc</a>, <a href="thfSearchCreateFromGrammar.html">thfSearchCreateFromGrammar</a>, <a href="thfSearchCreateFromList.html">thfSearchCreateFromList</a> and <a href="thfSearchCreateFromStatic.html">thfSearchCreateFromStatic</a>
<h3>Link To</h3>
<a href="platforms.html#sdklib">thf</a>



<!-- --------------------------------------------------------------------- -->
</body>
