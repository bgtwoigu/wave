<?xml version="1.0" encoding="utf-8" ?>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
 <html>
 <head>
 <!--Copyright (C)2010-2015 Sensory Inc-->
 <link rel="stylesheet" type="text/css" href="frozen.css" >
 <title>TrulyHandsfree Software Development Kit</title>
 </head>
 <body bgcolor="#ffffff" text="#000000">

<header><center>Sensory Confidential</center></header>
<h2>thfSearchCreateIncremental</h2>
<h3>Syntax</h3>
<pre>
#include &lt;trulyhandsfree.h&gt;
<a href="objects.html#searchs_t">searchs_t</a> *thfSearchCreateIncremental(thf_t **thf, <a href="objects.html#recog_t">recog_t</a> *r, <a href="objects.html#searchs_t">searchs_t</a> *s, 
                                      <a href="objects.html#pronuns_t">pronuns_t</a> *p, const char **removeGrams, 
                                      unsigned short numRemove, 
                                      const char **addGrams, 
                                      unsigned short numAdd, 
                                      const char **words, const char **pronuns, 
                                      unsigned short numWords, 
                                      unsigned short nbest);
</pre>
<h3>Description</h3>
 Creates a search object incrementally. A list of grammars can be incrementally added and/or removed as needed. Building a search incrementally is much quicker than creating a new search from scratch each time. If the search object does not exist already (i.e., a new search), set parameter 's' to NULL. Set 'removeGrams' parameter to NULL if only adding. Similarly, set 'addGrams' to NULL if only removing. You must also specify an array of words which is the combined list of unique words appearing in the grammars being added and deleted. Pronunciation can be either supplied or generated automatically. If pronunciations are to be generated, set parameter 'pronuns' parameter to NULL. Hybrid recognizers and task-specific acoustic models cannot be built incrementally. The returned search object can be used immediately or saved to file for later use. Call <a href="thfSearchDestroy.html">thfSearchDestroy</a> to destroy the search object when no longer needed. 
<h3>Parameters</h3>
<table>
<tr>
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Dir.</th>
<th align="left">Description</th>
</tr>
<tr>
<td nowrap valign="top"><code>thf_t *</code></td>
<td nowrap valign="top"><code>*thf</code></td>
<td align="center" valign="top">in</td>
<td width="500">Session object.</td>
</tr>
<tr>
<td nowrap valign="top"><a href="objects.html#recog_t"><code>recog_t *</code></a></td>
<td nowrap valign="top"><code>r</code></td>
<td align="center" valign="top">in</td>
<td width="500">Recognizer object.</td>
</tr>
<tr>
<td nowrap valign="top"><a href="objects.html#searchs_t"><code>searchs_t *</code></a></td>
<td nowrap valign="top"><code>s</code></td>
<td align="center" valign="top">in</td>
<td width="500">Existing search object or NULL if not exists.</td>
</tr>
<tr>
<td nowrap valign="top"><a href="objects.html#pronuns_t"><code>pronuns_t *</code></a></td>
<td nowrap valign="top"><code>p</code></td>
<td align="center" valign="top">in</td>
<td width="500">Pronunciation object.</td>
</tr>
<tr>
<td nowrap valign="top"><code>const char **</code></td>
<td nowrap valign="top"><code>removeGrams</code></td>
<td align="center" valign="top">in</td>
<td width="500">Array of grammars to remove.</td>
</tr>
<tr>
<td nowrap valign="top"><code>unsigned short</code></td>
<td nowrap valign="top"><code>numRemove</code></td>
<td align="center" valign="top">in</td>
<td width="500">Number of grammars in removeGrams array.</td>
</tr>
<tr>
<td nowrap valign="top"><code>const char **</code></td>
<td nowrap valign="top"><code>addGrams</code></td>
<td align="center" valign="top">in</td>
<td width="500">Array of grammars to add.</td>
</tr>
<tr>
<td nowrap valign="top"><code>unsigned short</code></td>
<td nowrap valign="top"><code>numAdd</code></td>
<td align="center" valign="top">in</td>
<td width="500">Number of grammars in addGrams array.</td>
</tr>
<tr>
<td nowrap valign="top"><code>const char **</code></td>
<td nowrap valign="top"><code>words</code></td>
<td align="center" valign="top">in</td>
<td width="500">Array of words to build.</td>
</tr>
<tr>
<td nowrap valign="top"><code>const char **</code></td>
<td nowrap valign="top"><code>pronuns</code></td>
<td align="center" valign="top">in</td>
<td width="500">Array of word pronunciations. Can be NULL if pronunciations are to be generated internally to SDK. (see <a href="pronuns.html">How to generate pronunciations</a>).</td>
</tr>
<tr>
<td nowrap valign="top"><code>unsigned short</code></td>
<td nowrap valign="top"><code>numWords</code></td>
<td align="center" valign="top">in</td>
<td width="500">Number of words (and pronunciations if provided) in array.</td>
</tr>
<tr>
<td nowrap valign="top"><code>unsigned short</code></td>
<td nowrap valign="top"><code>nbest</code></td>
<td align="center" valign="top">in</td>
<td width="500">Number of recognition results required</td>
</tr>
</table>
<h3>Return</h3>
 Returns a unique handle to the search object (see <a href="objects.html#searchs_t">searchs_t</a>). Returns NULL in the event of error. 
<h3>Errors</h3>
<table>
<tr>
<th align="left">String</th>
<th align="left">Description</th>
</tr>
<tr>
<td valign="top"><code>recog object not found</code></td>
<td valign="top">Invalid recognizer object handle.</td>
</tr>
<tr>
<td valign="top"><code>pronun object not found</code></td>
<td valign="top">Invalid pronunciation object handle.</td>
</tr>
<tr>
<td valign="top"><code>undefined Acoustic model state names</code></td>
<td valign="top">The acoustic model data is missing</td>
</tr>
<tr>
<td valign="top"><code>Uninitialized pronunciation engine</code></td>
<td valign="top">Invalid Pronunciation object handle.</td>
</tr>
<tr>
<td valign="top"><code>hybrid recogs not supported; Use thfCreateFromGrammarInstead</code></td>
<td valign="top">Hybrid recogs not supported</td>
</tr>
<tr>
<td valign="top"><code>task-specific acoustic model not supported; Use searchCreateFromGrammar() instead</code></td>
<td valign="top">Task-specific acoustic models not supported</td>
</tr>
<tr>
<td valign="top"><code>failed for word</code></td>
<td valign="top">Supplied word could not be decoded (assuming UTF-8) or contained a character that does not exist in the language writing system.</td>
</tr>
<tr>
<td valign="top"><code>getting pronunciation for <word></code></td>
<td valign="top">Failed to generate pronunciation for <word></td>
</tr>
<tr>
<td valign="top"><code>unexpected error in attachedNames</code></td>
<td valign="top">Incompatible acoustic model names</td>
</tr>
<tr>
<td valign="top"><code>when removing grammar</code></td>
<td valign="top">Something unexpected occurred during removal</td>
</tr>
<tr>
<td valign="top"><code>when adding grammar</code></td>
<td valign="top">Something unexpected occurred during</td>
</tr>
<tr>
<td valign="top"><code>phoneme &lt;phoneme&gt; does not exists in names descriptor.</code></td>
<td valign="top">A word pronunciation specification contains an unknown phoneme symbol. See acoustic model <em>.txt</em> file for list of allowed phoneme symbols.</td>
</tr>
<tr>
<td valign="top"><code>phoneme &lt;phoneme&gt; does not exists in names descriptor. While appending word: &lt;word&gt;.</code></td>
<td valign="top">A word pronunciation specification contains an unknown phoneme symbol. See acoustic model <em>.txt</em> file for list of allowed phoneme symbols.</td>
</tr>
<tr>
<td valign="top"><code>pronunciation of word &lt;word&gt; contains a circular path.</code></td>
<td valign="top">Invalid pronunciation specification.</td>
</tr>
<tr>
<td valign="top"><code>Phoneme: &lt;phoneme&gt; does not have a context independent part as expected here.</code></td>
<td valign="top">Internal search compiler error. Contact customer support.</td>
</tr>
<tr>
<td valign="top"><code>Pronunciation or grammar error: phone &lt;phone&gt; does not depend on its left context as expected here.</code></td>
<td valign="top">Internal search compiler error. Contact customer support.</td>
</tr>
<tr>
<td valign="top"><code>Pronunciation or grammar error: phone &lt;phone&gt; does not depend on its right context as expected here.</code></td>
<td valign="top">Internal search compiler error. Contact customer support.</td>
</tr>
<tr>
<td valign="top"><code>Pronunciation or grammar error: phone &lt;phone&gt; is not a triphone as expected here.</code></td>
<td valign="top">Internal search compiler error. Contact customer support.</td>
</tr>
<tr>
<td valign="top"><code>Internal search compiler error: Out of phoneme instance space</code></td>
<td valign="top">Out of memory when building a large search.</td>
</tr>
</table>
<h3>See Also</h3>
<a href="thfSearchDestroy.html">thfSearchDestroy</a>, <a href="thfSearchSaveToFile.html">thfSearchSaveToFile</a>, <a href="thfRecogCreateFromFile.html">thfRecogCreateFromFile</a>, <a href="thfRecogCreateFromFunc.html">thfRecogCreateFromFunc</a>, <a href="thfRecogCreateFromStatic.html">thfRecogCreateFromStatic</a>, <a href="thfSearchCreateFromFile.html">thfSearchCreateFromFile</a>, <a href="thfSearchCreateFromFunc.html">thfSearchCreateFromFunc</a>, <a href="thfSearchCreateFromGrammar.html">thfSearchCreateFromGrammar</a>, <a href="thfSearchCreateFromList.html">thfSearchCreateFromList</a>, <a href="thfSearchCreateFromStatic.html">thfSearchCreateFromStatic</a>, <a href="thfPronunCreateFromFile.html">thfPronunCreateFromFile</a> and <a href="thfPronunCreateFromStatic.html">thfPronunCreateFromStatic</a>
<h3>Link To</h3>
<a href="platforms.html#sdklib">thf</a>



<!-- --------------------------------------------------------------------- -->
</body>
