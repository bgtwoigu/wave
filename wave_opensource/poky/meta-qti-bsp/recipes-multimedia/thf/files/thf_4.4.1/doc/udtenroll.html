<?xml version="1.0" encoding="utf-8" ?>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
 <html>
 <head>
 <!--Copyright (C)2010-2015 Sensory Inc-->
 <link rel="stylesheet" type="text/css" href="frozen.css" >
 <title>TrulyHandsfree Software Development Kit</title>
 </head>
 <body bgcolor="#ffffff" text="#000000">

</OBJECT><HEADER><CENTER>Sensory Confidential</CENTER></HEADER>

<h2>udtenroll</h2>

<h3>Syntax</h3>
<pre>TrulyHandsfree SDK\&lt;platform&gt;\bin\udtenroll [options] enrollfiles...</pre>

<h3>Description</h3>
A tool for performing User-Defined Trigger (UDT) enrollment: Creates compiled search and acoustic
model files from example recordings for each phrase/user. The resulting models can be evaluated using the <a href="pseval.html">pseval</a> tool.


<h3>Parameters</h3>
<table>
<tr>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>

<tr>
<td nowrap valign="top"><code>-a file</code></td>
<td align="center" valign="top"></td>
<td width="500">Acoustic model filename, typically a
  general-purpose net found in an SDK language
  pack. E.g. en_us_16kHz_v10/nn_en_us_mfcc_16k_15_250_v5.1.1.raw
This source file is required.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-p file</code></td>
<td align="center" valign="top"></td>
<td width="500">Phrase-specific search filename, typically found in an SDK
  language pack. E.g. en_us_16kHz_v10/phonemeSearch_1_2.raw
This source file is required.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-u file</code></td>
<td align="center" valign="top"></td>
<td width="500">SV/SID/UDT data filename, typically found in an SDK
  language pack. E.g. en_us_16kHz_v10/svsid_1_1.raw
This source file is required.</td>
</tr>

<td nowrap valign="top"><code>enrollfiles...</code></td>
<td align="center" valign="top"></td>
<td width="500">Enrollfiles, supplied in groups of wavefiles
  separated by the speaker name preceded by a '+'.  These can be in
  RIFF (.wav) format with 16-bit linear PCM encoding, or a headerless
  16-bit linear PCM file in host byte order. If the latter, the <em>-r
  rate</em> flag is required to specify the sample rate.
  If the -t flag is specified, each group of three audio file names
  must be preceded by a text string that identifies the user or
  phrase. (This is the result the recognizer will provide when this
  phrase is spotted.)
</td>
</tr>

<tr>
<td nowrap valign="top"><code>-n file</code></td>
<td align="center" valign="top">net.raw</td>
<td width="500">Neural network (acoustic model) file name. This is
  one of the output files created.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-s file</code></td>
<td align="center" valign="top">search.raw</td>
<td width="500">Compiled phrase-spotting search file name. This is
  one of the output files created.</td>
</tr>


<tr>
<td nowrap valign="top"><code>-c file</code></td>
<td align="center" valign="top"></td>
<td width="500"><a href="udtenroll.html#Configfile">Config file</a> to adjust enrollment phrase quality checks and enrollment parameter settings.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-d delay</code></td>
<td align="center" valign="top">300</td>
<td width="500">Sets the phrase spotting
  <a href="params.html#delay">delay</a> in ms. Specify a delay of at least
  250 ms when using speaker verification or speaker identification.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-r rate</code></td>
<td align="center" valign="top"> read from wavfile </td>
<td width="500">Audio sample rate in Hz, required if the wave file is
  in PCM format.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-m count</code></td>
<td align="center" valign="top"></td>
<td width="500">Minimum number of enrollments required. Enrollments that fail the quality checks will be removed and if the enrollments left are less than the minimum, the process will be aborted.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-v</code></td>
<td align="center" valign="top">disabled</td>
<td width="500">Produce verbose progress messages.</td>
</tr>

</table>

<h3>Examples</h3>
<p><em>enrollfiles</em> are supplied in groups of wavefiles, separated by the speaker name preceded by a '+'.  For example:<br/>
<code>+username1 user1_enr_1.wav user1_enr_2.wav +username2 user2_enr_1.wav user2_enr_2.wav</code></p>

<p>For audio files in PCM format, all recordings must be sampled at the
  same rate, which must be given with the <em>-r</em> option.</p>

<h3 id="Configfile">Config File Format</h3>
<p>The format of the config file is the parameter, followed by a space, followed by the value.
<p>The following enrollment phrase quality parameters may be adjusted.
For checking recordings,
ENERGY_MIN, ENERGY_STD_DEV, SIL_BEG_MSEC, SIL_END_MSEC, SNR,
RECORDING_VARIANCE, CLIPPING_PERCENT, CLIPPING_MSEC, POOR_RECORDINGS, VOWEL_DUR and REPETITION.
<p>For control of optional parameters used in developing
a UDT model, PARAM_A_START, PARAM_B_START, PARAM_E, SAMP_PER_CAT, SAMP_PER_CAT_WITHIN,
IGNORE_TYPE, SIL_PERCENT, NOISE_PERCENT, PHONEMEREC_SEARCH_TYPE,
SANITIZE, DUR_MIN_FACTOR, DUR_MAX_FACTOR, POP_THRESH, DBA_FILTER, TARGET_SNR,
EPQ_ENABLE, and EPQ_MIN.</p>
<p>See the <a href='constants.html#UDTparameters'>thfUdtConfig_t</a>
and <a href='constants.html#thfPhrasespotConfig_t'>thfPhrasespotConfig_t</a>
enumerations for details on what these parameters mean. The EPQ parameters are written into the recognizer file, and when the UDT recognizer is read from file, these EPQ settings will be used by default.</p>
<p>Below is an example config file. </p>

<p>
EPQ_ENABLE 1<br/>
ENERGY_MIN 30.0<br/>
ENERGY_STD_DEV 2.5<br/>
SIL_BEG_MSEC 60.0<br/>
SIL_END_MSEC 60.0<br/>
SNR 7.0<br/>
RECORDING_VARIANCE 350.0<br/>
CLIPPING_PERCENT 0.01<br/>
CLIPPING_MSEC 0.2<br/>
POOR_RECORDINGS -500.0<br/>
PARAM_A_START -1300.0<br/>
SAMP_PER_CAT 1024.0<br/>
</p>



<h3>See Also</h3>
<a href="Getting Started.html">Overview</a>, <a href="pseval.html">pseval</a>,
	 <a href="UdtOverview.html">Overview of User-Defined Triggers</a>

<!----------------------------------------------------------------------- -->
</body>
