<?xml version="1.0" encoding="utf-8" ?>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
 <html>
 <head>
 <!--Copyright (C)2010-2015 Sensory Inc-->
 <link rel="stylesheet" type="text/css" href="frozen.css" >
 <title>TrulyHandsfree Software Development Kit</title>
 </head>
 <body bgcolor="#ffffff" text="#000000">

<header><center>Sensory Confidential</center></header>
<h2>thfReadFunc_t</h2>
<h3>Syntax</h3>
<pre>
#include &lt;trulyhandsfree.h&gt;
size_t thfReadFunc_t(void *buffer, size_t size, size_t nitems, 
                     void *privateData, thfReadFuncError_t *err);
</pre>
<h3>Description</h3>
 <p>Reads nitems objects, each size bytes long from a data source, storing them at the location given by buffer.</p> <p>This callback function type is used by <a href="thfRecogCreateFromFunc.html">thfRecogCreateFromFunc</a> and <a href="thfSearchCreateFromFunc.html">thfSearchCreateFromFunc</a> to read data structures from arbitrary streams. The &quot;privateData&quot; parameter will contain the corresponding pointer argument these functions were called with. This private data structure will typically contain context information for the data stream.</p> <p><a href="thfRecogCreateFromFile.html">thfRecogCreateFromFile</a> could be implemented using <a href="thfRecogCreateFromFunc.html">thfRecogCreateFromFunc</a> with a readFunc argument pointing to a function similar to this: <br/><br/> size_t freadStub(void *out, size_t size, size_t nitems, void *privateData, thfReadFuncError_t *err)<br/> {<br/> &nbsp;&nbsp;size_t nread;<br/> &nbsp;&nbsp;FILE *stream=(FILE *)privateData;<br/> &nbsp;&nbsp;nread=fread(out, size, nitems, stream);<br/> &nbsp;&nbsp;if(err) {<br/> &nbsp;&nbsp;&nbsp;&nbsp;if(nread&lt;nitems) {<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(feof(stream)) *err=THF_STREAM_EOF;<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if(ferror(stream)) *err=THF_STREAM_ERROR;<br/> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else *err=THF_STREAM_OK;<br/> &nbsp;&nbsp;&nbsp;&nbsp;} else *err=THF_STREAM_OK;<br/> &nbsp;&nbsp;}<br/> &nbsp;&nbsp;return nread;<br/> }<br/> </p>
<h3>Parameters</h3>
<table>
<tr>
<th align="left">Type</th>
<th align="left">Name</th>
<th align="left">Dir.</th>
<th align="left">Description</th>
</tr>
<tr>
<td nowrap valign="top"><code>void *</code></td>
<td nowrap valign="top"><code>buffer</code></td>
<td align="center" valign="top">out</td>
<td width="500">data destination buffer, at least size*nitems bytes.</td>
</tr>
<tr>
<td nowrap valign="top"><code>size_t</code></td>
<td nowrap valign="top"><code>size</code></td>
<td align="center" valign="top">in</td>
<td width="500">size of one object in bytes.</td>
</tr>
<tr>
<td nowrap valign="top"><code>size_t</code></td>
<td nowrap valign="top"><code>nitems</code></td>
<td align="center" valign="top">in</td>
<td width="500">number of objects to read.</td>
</tr>
<tr>
<td nowrap valign="top"><code>void *</code></td>
<td nowrap valign="top"><code>privateData</code></td>
<td align="center" valign="top">in</td>
<td width="500">user-defined data.</td>
</tr>
<tr>
<td nowrap valign="top"><code>thfReadFuncError_t *</code></td>
<td nowrap valign="top"><code>err</code></td>
<td align="center" valign="top">out</td>
<td width="500">returns function completion status.</td>
</tr>
</table>
<h3>Return</h3>
 The number of objects read. If err is not NULL, *err must be set to one of: THF_STREAM_OK, THF_STREAM_EOF or THF_STREAM_ERROR.
<h3>See Also</h3>
<a href="thfRecogCreateFromFunc.html">thfRecogCreateFromFunc</a> and <a href="thfSearchCreateFromFunc.html">thfSearchCreateFromFunc</a>
<h3>Link To</h3>
<a href="platforms.html#sdklib">thf</a>



<!-- --------------------------------------------------------------------- -->
</body>
