<?xml version="1.0" encoding="utf-8" ?>
 <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
 "http://www.w3.org/TR/html4/loose.dtd">
 <html>
 <head>
 <!--Copyright (C)2010-2015 Sensory Inc-->
 <link rel="stylesheet" type="text/css" href="frozen.css" >
 <title>TrulyHandsfree Software Development Kit</title>
 </head>
 <body bgcolor="#ffffff" text="#000000">

</OBJECT><HEADER><CENTER>Sensory Confidential</CENTER></HEADER>

<h2>svenroll</h2>

<h3>Syntax</h3>
<pre>TrulyHandsfree SDK\&lt;platform&gt;\bin\svenroll [options] enrollfiles...</pre>

<h3>Description</h3>
A tool for performing Speaker Verification fix-phrase enrollment: Creates compiled search and acoustic
model files from example fix-phrase recordings for each user. The resulting models can be evaluated using the <a href="pseval.html">pseval</a> tool.

<h3>Parameters</h3>
<table>
<tr>
<th align="left">Name</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>

<tr>
<td nowrap valign="top"><code>-a file</code></td>
<td align="center" valign="top"></td>
<td width="500">Acoustic model filename, ideally a
  phrase-specific net.  E.g. Samples\data\sensory_demo_hbg_en_us_sfs_delivery04_pruned_search_am.raw.  Contact
  Sensory for obtaining a custom phrase-specific net.  This source file is required.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-s file</code></td>
<td align="center" valign="top"></td>
<td width="500">Custom phrase-specific search filename.  E.g. Samples\data\sensory_demo_hbg_en_us_sfs_delivery04_pruned_search_9.raw.  Contact
  Sensory for obtaining a custom phrase-specific search.  This source file is required.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-u file</code></td>
<td align="center" valign="top"></td>
<td width="500">SV/SID/UDT data filename, ideally phrase-specific SV/SID/UDT datafile. E.g. Samples\data\hbg_antidata_v6_0.raw.
  Contact Sensory for obtaining a custom phrase-specific SV/SID/UDT datafile.  This source file is required.</td>
</tr>

<td nowrap valign="top"><code>enrollfiles...</code></td>
<td align="center" valign="top"></td>
<td width="500">Enroll files, supplied in groups of wavefiles
  separated by the speaker name preceded by a '+'.  These can be in
  RIFF (.wav) format with 16-bit linear PCM encoding, or a headerless
  16-bit linear PCM file in host byte order. If the latter, the <em>-r
  rate</em> flag is required to specify the sample rate.
  If the -t flag is specified, each group of three audio file names
  must be preceded by a text string that identifies the user or
  phrase. (This is the result the recognizer will provide when this
  phrase is spotted.)
</td>
</tr>

<tr>
<td nowrap valign="top"><code>-n file</code></td>
<td align="center" valign="top">net.raw</td>
<td width="500">Neural network (acoustic model) file name. This is
  one of the output files created.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-S file</code></td>
<td align="center" valign="top">search.raw</td>
<td width="500">Compiled phrase-spotting search file name. This is
  one of the output files created.</td>
</tr>


<tr>
<td nowrap valign="top"><code>-c file</code></td>
<td align="center" valign="top"></td>
<td width="500"><a href="svenroll.html#Configfile">Config file</a> to adjust enrollment phrase quality checks and enrollment parameter settings.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-d delay</code></td>
<td align="center" valign="top">300</td>
<td width="500">Sets the phrase spotting
  <a href="params.html#delay">delay</a> in ms. Specify a delay of at least
  250 ms when using speaker verification or speaker identification.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-r rate</code></td>
<td align="center" valign="top"> read from wavfile </td>
<td width="500">Audio sample rate in Hz, required if the wave file is
  in PCM format.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-p</code></td>
<td align="center" valign="top">disabled</td>
<td width="500">Ignore only the <code>.pau</code> phoneme during
  adaptation. The default is to ignore the phonemes in
  <a href='thfSpeakerEnroll.html'>IGNORE_SV_DEFAULT</a>.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-m count</code></td>
<td align="center" valign="top"></td>
<td width="500">Minimum number of enrollments required. Enrollments that fail the quality checks will be removed and if the enrollments left are less than the minimum, the process will be aborted.</td>
</tr>

<tr>
<td nowrap valign="top"><code>-v</code></td>
<td align="center" valign="top">disabled</td>
<td width="500">Produce verbose progress messages.</td>
</tr>

</table>

<h3>Examples</h3>
<p><em>enrollfiles</em> are supplied in groups of wavefiles, separated by the speaker name preceded by a '+'.  For example:<br/>
<code>+username1 user1_enr_1.wav user1_enr_2.wav +username2 user2_enr_1.wav user2_enr_2.wav</code></p>

<p>For audio files in PCM format, all recordings must be sampled at the
  same rate, which must be given with the <em>-r</em> option.</p>

<h3 id="Configfile">Config File Format</h3>
<p>The format of the config file is the parameter, followed by a space, followed by the value.
<p>The following enrollment phrase quality parameters may be adjusted:
ENERGY_MIN, ENERGY_STD_DEV, SIL_BEG_MSEC, SIL_END_MSEC, SNR,
RECORDING_VARIANCE, CLIPPING_PERCENT, CLIPPING_MSEC, POOR_RECORDINGS, VOWEL_DUR,
and SPOT.
<p>The following parameters may be used to affect performance of the
resulting trigger: PARAMA_OFFSET, EPQ_ENABLE, EPQ_MIN, TRIGGER_SAMP_PER_CAT, SAMP_PER_CAT_WITHIN,
TARGET_SNR, DUR_MIN_FACTOR, and DUR_MAX_FACTOR.</p>
<p>See the <a href='constants.html#thfRecogConfig_t'>thfRecogConfig_t</a>
enumeration for details on what the first 11 parameters mean.
PARAMA_OFFSET, EPQ_ENABLE, and EPQ_MIN are described in
<a href='constants.html#thfPhrasespotConfig_t'>thfPhrasespotConfig_t</a>.
The param A offset is written into the search file, and when the speaker-adapted search is read from file no offset needs to be applied.  The EPQ parameters are written into the recognizer file, and when the speaker-adapted recognizer is read from file, these EPQ settings will be used by default.
Other parameters are described in the <a href='constants.html#thfSpeakerConfig_t'>thfSpeakerConfig_t</a> enumeration.
</p>
<p>Below is an example config file. </p>

<p>
EPQ_ENABLE 1<br/>
ENERGY_MIN 30.0<br/>
ENERGY_STD_DEV 2.5<br/>
SIL_BEG_MSEC 60.0<br/>
SIL_END_MSEC 60.0<br/>
SNR 7.0<br/>
RECORDING_VARIANCE 350.0<br/>
CLIPPING_PERCENT 0.01<br/>
CLIPPING_MSEC 0.2<br/>
POOR_RECORDINGS -500.0<br/>
SPOT 0.0<br/>
PARAMA_OFFSET 200<br/>
TRIGGER_SAMP_PER_CAT 128<br/>
SAMP_PER_CAT_WITHIN 8<br/>
</p>

<h3>See Also</h3>
<a href="Getting Started.html">Overview</a>, <a href="pseval.html">pseval</a>,
	 <a href="UdtOverview.html">Overview of User-Defined Triggers</a>

<!----------------------------------------------------------------------- -->
</body>
